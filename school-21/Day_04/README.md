### Проект Candy Server

Этот проект представляет собой сервер автомата по продаже конфет, реализованный на Go с интеграцией кода на C для генерации ответов в виде ASCII-арт. Сервер использует HTTPS для безопасной связи и поддерживает аутентификацию клиентов с помощью сертификатов.



### Возможности

- **API для покупки конфет**: Предоставляет конечную точку для покупки конфет.
- **Безопасная связь**: Использует HTTPS для безопасной связи.
- **Аутентификация по сертификатам**: Требует сертификаты клиента для аутентификации.
- **Ответы в виде ASCII-арт**: Генерирует ответы в виде ASCII-арт с помощью интегрированного кода на C.

### Установка и использование

#### Запуска сервера

```sh
git clone <repository_url>
cd <repository_directory>
```

2. **Установка зависимостей**:

```sh
go mod tidy
```

3. **Генерация сертификатов** (с использованием `minica`):

```sh
minica --domains candy.tld
```

4. **Добавление `candy.tld` в файл hosts**:

Нужно добавить файл `/etc/hosts` (или `C:\Windows\System32\drivers\etc\hosts` на Windows):

```
127.0.0.1 candy.tld
```

5. **Сборка и запуск сервера**:

Перейдите в директорию `candy-server` и выполните следующую команду:

```sh
make
./candy-server
```

#### Пример запроса

Используйте `curl` для отправки запроса на сервер:

```sh
curl -s --key candy.tld/key.pem --cert candy.tld/cert.pem --cacert minica.pem -XPOST -H "Content-Type: application/json" -d '{"candyType": "NT", "candyCount": 2, "money": 34}' "https://candy.tld:3333/buy_candy" | jq -r '.thanks'
```

### Объяснение ответа в виде ASCII-арт

Это было добавлено для тренировки интеграции C файлов в GO. Ответ включает поле `thanks`, которое содержит сообщение в виде ASCII-арт, сгенерированное функцией `ask_cow` на языке C. Функция форматирует ответ с использованием ASCII-арта коровы.