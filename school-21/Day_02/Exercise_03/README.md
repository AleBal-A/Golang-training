# Ex_03 - Инструменте для ротации логов

## Обзор
Инструмент архивирует логи на основе времени их последнего изменения и сжимает их в формат `.tar.gz` для экономии места.

## Функциональность
- Инструмент принимает лог-файлы в качестве входных данных и, в зависимости от предоставленной директории (необязательно через флаг `-a`), архивирует логи в указанную или стандартную директорию.
- Архивированные файлы именуются с использованием базового имени лог-файлов с добавлением их UNIX-времени изменения, что обеспечивает уникальность и прослеживаемость.

## Примеры использования
1. **Обработка одного лог-файла:**
   ```
   ./myRotate /path/to/logs/some_application.log
   ```
   Эта команда создаст файл вроде `/path/to/logs/some_application_1715441884.tar.gz`.

2. **Обработка нескольких лог-файлов с указанием директории для архивации:**
   ```
   ./myRotate -a /data/archive /path/to/logs/some_application.log /path/to/logs/other_application.log
   ```
   Эта команда создаст два файла `.tar.gz` в директории `/data/archive`, каждый из которых будет назван в соответствии с соответствующими лог-файлами с временными метками.

### Основные компоненты
- **Обработка файлов**: Управление чтением файлов и извлечением метаданных.
- **Сжатие**: Использование Gzip для сжатия tar-архива.
- **Архивация**: Упаковка исходного лог-файла в формат tar и его сжатие с помощью gzip.

### Параллелизм
- Использование модели параллелизма Go (горутины и группы ожидания) для обработки нескольких лог-файлов одновременно.

## Иисходный код
- `main()`: Анализирует аргументы командной строки, настраивает пути к директориям архивации и управляет параллельными задачами архивации.
- `rotateLog(logFile, archiveDir string)`: Подготавливает файл для архивации и вызывает функцию архивации.
- `addToArchive(tarWriter *tar.Writer, logFile, baseName string)`: Добавляет лог-файл в tar-архив.
- `exists(path string)`: Проверяет существование указанного пути.
